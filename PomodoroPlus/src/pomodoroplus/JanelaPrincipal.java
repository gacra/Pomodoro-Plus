
package pomodoroplus;

import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.Toolkit;
import java.text.ParseException;
import javax.swing.AbstractButton;
import static javax.swing.BorderFactory.createEmptyBorder;
import javax.swing.ImageIcon;
import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JTable;
import javax.swing.ScrollPaneConstants;
import javax.swing.border.EmptyBorder;
import javax.swing.plaf.metal.MetalButtonUI;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.TableCellRenderer;
import javax.swing.table.TableColumnModel;
import javax.swing.text.MaskFormatter;

/**
 * Janela principal do programa
 * @author Guilherme
 */
public class JanelaPrincipal extends javax.swing.JFrame{
    
    //Contador de quantos Paineis existem
    private int cont =0;
    //Se o contador regressivo está pausado ou não
    private boolean pausado = false;
    //Se o som está ativado ou não
    private boolean som = true;
    //Número de linhas na tabela
    public Integer linha = 0;
    //Objeto Programa (conjunto de períodos de tempo)
    private Programa programa;
    
    /**
     * Creates new form JanelaPrincipal
     */
    public JanelaPrincipal(){
        
        initComponents();
        
        //Iniciando painel de programação
        
        programa = new Programa(duracaoTempo, ateTempo, inicioTempo);
        
        programaRolagem.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);
        FlowLayout layout = new FlowLayout();  
        programaPanel.setLayout(layout);
        layout.setAlignment(FlowLayout.LEFT);      
        Painel novoPainel = new Painel(programaPanel, programaRolagem, this, programa);
        programaPanel.add(novoPainel);
        programaPanel.setPreferredSize(new Dimension(novoPainel.getWidth(),cont*(40+(((FlowLayout)programaPanel.getLayout()).getVgap()))));
        
        //Teste
        tabela.setValueAt("123456789012345678901", 0, 0);
        tabela.setValueAt("00:00:00", 0, 1);
        tabela.setValueAt("00:00:00", 0, 2);
        tabela.setValueAt("00:00:00", 0, 3);        
        
        //Iniciando painel do cronômetro
        FlowLayout layout2 = new FlowLayout();  
        suporteHorario.setLayout(layout2);
        layout2.setAlignment(FlowLayout.LEFT);  
        suporteHorario.add(new PainelHorario1());
        //suporteHorario.setPreferredSize(new Dimension(480,230));
        
        Image iconeTitulo = Toolkit.getDefaultToolkit().getImage(getClass().getResource("/Figuras/icone.png"));
        this.setIconImage(iconeTitulo);
        
        this.setLocationRelativeTo(null);
        this.setVisible(true);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        painelFundo = new javax.swing.JPanel();
        painelMeio = new javax.swing.JPanel();
        guias = new javax.swing.JTabbedPane();
        painelPrincFundo = new javax.swing.JPanel();
        tabelaRolagem = new javax.swing.JScrollPane();
        tabela = new javax.swing.JTable();
        cabecalho = new javax.swing.JPanel();
        nomeProg1 = new javax.swing.JLabel();
        nomeProg2 = new javax.swing.JLabel();
        simboloProg = new javax.swing.JLabel();
        ajuda = new javax.swing.JLabel();
        pausaCont = new javax.swing.JButton();
        suporteHorario = new javax.swing.JPanel();
        selectSom = new javax.swing.JComboBox();
        escolheSom = new javax.swing.JLabel();
        PainelProgFundo = new javax.swing.JPanel();
        programaRolagem = new javax.swing.JScrollPane();
        programaPanel = new javax.swing.JPanel();
        iniDurAte = new javax.swing.JPanel();
        inicio = new javax.swing.JLabel();
        duracao = new javax.swing.JLabel();
        ate = new javax.swing.JLabel();
        ateTempo = new javax.swing.JLabel();
        duracaoTempo = new javax.swing.JLabel();
        inicioTempo = new javax.swing.JFormattedTextField();
        iniciarAgora = new javax.swing.JRadioButton();
        cabecalhoAlt = new javax.swing.JPanel();
        nomeProg1Alt = new javax.swing.JLabel();
        nomeProg2Alt = new javax.swing.JLabel();
        simboloProgAlt = new javax.swing.JLabel();
        ajudaAlt = new javax.swing.JLabel();
        botoes = new javax.swing.JPanel();
        iniciar = new javax.swing.JButton();
        salvar = new javax.swing.JButton();
        carregar = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Pomodoro Plus");
        setLocation(new java.awt.Point(0, 0));
        setMinimumSize(new java.awt.Dimension(525, 0));

        painelFundo.setBackground(new java.awt.Color(2, 24, 43));

        painelMeio.setBackground(new java.awt.Color(238, 241, 246));

        guias.setBackground(new java.awt.Color(255, 255, 255));
        guias.setFocusable(false);
        guias.setFont(new java.awt.Font("Verdana", 1, 24)); // NOI18N
        guias.setMinimumSize(new java.awt.Dimension(200, 40));

        painelPrincFundo.setBackground(new java.awt.Color(238, 241, 246));

        tabelaRolagem.setBackground(new java.awt.Color(2, 24, 43));
        tabelaRolagem.setMinimumSize(new java.awt.Dimension(23, 0));

        tabela.setBackground(new java.awt.Color(2, 24, 43));
        tabela.setFont(new java.awt.Font("Verdana", 0, 16)); // NOI18N
        tabela.setForeground(new java.awt.Color(255, 255, 255));
        tabela.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Nome do período", "Duração", "Início", "Até"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tabela.setFocusable(false);
        tabela.setGridColor(new java.awt.Color(255, 0, 0));
        tabela.setMinimumSize(new java.awt.Dimension(60, 0));
        tabela.setRowHeight(30);
        tabela.setRowSelectionAllowed(false);
        tabela.setShowVerticalLines(false);
        tabela.getTableHeader().setReorderingAllowed(false);
        tabelaRolagem.setViewportView(tabela);
        if (tabela.getColumnModel().getColumnCount() > 0) {
            tabela.getColumnModel().getColumn(0).setResizable(false);
            tabela.getColumnModel().getColumn(0).setPreferredWidth(230);
            tabela.getColumnModel().getColumn(1).setResizable(false);
            tabela.getColumnModel().getColumn(3).setResizable(false);
        }
        //Mudança de cor e fonte do cabeçalho, bem como tirar as suas bordas
        tabela.getTableHeader().setBackground(new java.awt.Color(2, 24, 43));
        tabela.getTableHeader().setForeground(new java.awt.Color(255,89,81));
        tabela.getTableHeader().setResizingAllowed(false);
        TableCellRenderer baseRenderer = tabela.getTableHeader().getDefaultRenderer();
        tabela.getTableHeader().setDefaultRenderer(new TableHeaderRenderer(baseRenderer));
        tabela.getTableHeader().setFont(new java.awt.Font("Verdana", 0, 16));
        //Retirando a borda da tabela
        tabelaRolagem.getViewport().setBackground(Color.WHITE);
        //Mudando a cor da parte da tabela sem linhas
        tabelaRolagem.setBorder(createEmptyBorder());
        //Centralizando
        TableColumnModel model = tabela.getColumnModel();
        model.getColumn(0).setCellRenderer(new LinhaEscolhida(this));
        model.getColumn(1).setCellRenderer(new LinhaEscolhida(this));
        model.getColumn(2).setCellRenderer(new LinhaEscolhida(this));
        model.getColumn(3).setCellRenderer(new LinhaEscolhida(this));

        //DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer();
        //centerRenderer.setHorizontalAlignment( JLabel.CENTER );
        //centerRenderer.setVerticalAlignment ( JLabel.CENTER );
        //tabela.setDefaultRenderer(String.class, centerRenderer);

        cabecalho.setBackground(new java.awt.Color(255, 255, 255));

        nomeProg1.setFont(new java.awt.Font("Gill Sans MT", 1, 36)); // NOI18N
        nomeProg1.setText("Pomodoro");

        nomeProg2.setFont(new java.awt.Font("Gill Sans MT", 1, 18)); // NOI18N
        nomeProg2.setText("Plus");

        simboloProg.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/Tomate.png"))); // NOI18N

        ajuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/help.png"))); // NOI18N
        ajuda.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));

        javax.swing.GroupLayout cabecalhoLayout = new javax.swing.GroupLayout(cabecalho);
        cabecalho.setLayout(cabecalhoLayout);
        cabecalhoLayout.setHorizontalGroup(
            cabecalhoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(cabecalhoLayout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addComponent(simboloProg)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(nomeProg1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(nomeProg2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 663, Short.MAX_VALUE)
                .addComponent(ajuda)
                .addGap(36, 36, 36))
        );
        cabecalhoLayout.setVerticalGroup(
            cabecalhoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(cabecalhoLayout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addGroup(cabecalhoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(simboloProg)
                    .addComponent(ajuda)
                    .addGroup(cabecalhoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(nomeProg1)
                        .addComponent(nomeProg2)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pausaCont.setBackground(new java.awt.Color(194, 203, 20));
        pausaCont.setFont(new java.awt.Font("Verdana", 1, 24)); // NOI18N
        pausaCont.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/pause.png"))); // NOI18N
        pausaCont.setText(" Pausar");
        pausaCont.setBorderPainted(false);
        pausaCont.setFocusPainted(false);
        pausaCont.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pausaContActionPerformed(evt);
            }
        });

        suporteHorario.setBackground(new java.awt.Color(238, 241, 246));
        suporteHorario.setPreferredSize(new java.awt.Dimension(480, 170));

        javax.swing.GroupLayout suporteHorarioLayout = new javax.swing.GroupLayout(suporteHorario);
        suporteHorario.setLayout(suporteHorarioLayout);
        suporteHorarioLayout.setHorizontalGroup(
            suporteHorarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 480, Short.MAX_VALUE)
        );
        suporteHorarioLayout.setVerticalGroup(
            suporteHorarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 170, Short.MAX_VALUE)
        );

        selectSom.setFont(new java.awt.Font("Verdana", 0, 16)); // NOI18N
        selectSom.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Som 1", "Som 2", "Som 3", "Som 4" }));

        escolheSom.setBackground(new java.awt.Color(238, 241, 246));
        escolheSom.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/sino.png"))); // NOI18N
        escolheSom.setOpaque(true);
        escolheSom.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                escolheSomMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout painelPrincFundoLayout = new javax.swing.GroupLayout(painelPrincFundo);
        painelPrincFundo.setLayout(painelPrincFundoLayout);
        painelPrincFundoLayout.setHorizontalGroup(
            painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, painelPrincFundoLayout.createSequentialGroup()
                .addGroup(painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(painelPrincFundoLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(suporteHorario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(painelPrincFundoLayout.createSequentialGroup()
                        .addGap(111, 111, 111)
                        .addGroup(painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(pausaCont, javax.swing.GroupLayout.PREFERRED_SIZE, 233, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(painelPrincFundoLayout.createSequentialGroup()
                                .addComponent(escolheSom)
                                .addGap(2, 2, 2)
                                .addComponent(selectSom, javax.swing.GroupLayout.PREFERRED_SIZE, 205, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tabelaRolagem, javax.swing.GroupLayout.PREFERRED_SIZE, 543, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(58, 58, 58))
            .addGroup(painelPrincFundoLayout.createSequentialGroup()
                .addComponent(cabecalho, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        painelPrincFundoLayout.setVerticalGroup(
            painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(painelPrincFundoLayout.createSequentialGroup()
                .addComponent(cabecalho, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(painelPrincFundoLayout.createSequentialGroup()
                        .addGap(30, 30, 30)
                        .addComponent(suporteHorario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 53, Short.MAX_VALUE)
                        .addComponent(pausaCont, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 58, Short.MAX_VALUE)
                        .addGroup(painelPrincFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(selectSom)
                            .addComponent(escolheSom, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(91, Short.MAX_VALUE))
                    .addGroup(painelPrincFundoLayout.createSequentialGroup()
                        .addComponent(tabelaRolagem, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(11, 11, 11))))
        );

        /*tabelaRolagem.getVerticalScrollBar().setUI(new BasicScrollBarUI()
            {
                @Override
                protected void configureScrollBarColors(){
                    this.thumbColor = new java.awt.Color(255, 153, 153);
                }

                @Override
                protected JButton createIncreaseButton(int orientation) {
                    JButton button = super.createIncreaseButton(orientation);
                    button.setBackground(new java.awt.Color(224, 224, 224));
                    return button;
                }

                @Override
                protected JButton createDecreaseButton(int orientation) {
                    JButton button = super.createDecreaseButton(orientation);
                    button.setBackground(new java.awt.Color(224, 224, 224));
                    return button;
                }

            });*/
            pausaCont.setUI(new MetalButtonUI(){
                @Override
                public void paintButtonPressed(Graphics g, AbstractButton b) {
                    paintText(g, b, b.getBounds(), b.getText());
                    g.setColor(Color.yellow.brighter());
                    g.fillRect(0, 0, b.getSize().width, b.getSize().height);
                }
            });

            guias.addTab("                    Principal                  ", painelPrincFundo);

            PainelProgFundo.setBackground(new java.awt.Color(238, 241, 246));

            programaRolagem.setMaximumSize(new java.awt.Dimension(300, 32767));
            programaRolagem.setPreferredSize(new java.awt.Dimension(950, 366));

            programaPanel.setBackground(new java.awt.Color(2, 24, 43));
            programaPanel.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
            programaPanel.setMaximumSize(new java.awt.Dimension(300, 32767));
            programaPanel.setPreferredSize(new java.awt.Dimension(900, 350));

            javax.swing.GroupLayout programaPanelLayout = new javax.swing.GroupLayout(programaPanel);
            programaPanel.setLayout(programaPanelLayout);
            programaPanelLayout.setHorizontalGroup(
                programaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGap(0, 900, Short.MAX_VALUE)
            );
            programaPanelLayout.setVerticalGroup(
                programaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGap(0, 354, Short.MAX_VALUE)
            );

            programaRolagem.setViewportView(programaPanel);

            iniDurAte.setBackground(new java.awt.Color(238, 241, 246));

            inicio.setFont(new java.awt.Font("Century Gothic", 1, 18)); // NOI18N
            inicio.setText("Início:");

            duracao.setFont(new java.awt.Font("Century Gothic", 1, 18)); // NOI18N
            duracao.setText("Duração:");
            duracao.setFocusable(false);

            ate.setFont(new java.awt.Font("Century Gothic", 1, 18)); // NOI18N
            ate.setText("Até:");
            ate.setFocusable(false);

            ateTempo.setFont(new java.awt.Font("Century Gothic", 1, 52)); // NOI18N
            ateTempo.setText("00:00:00");
            ateTempo.setFocusable(false);

            duracaoTempo.setFont(new java.awt.Font("Century Gothic", 1, 52)); // NOI18N
            duracaoTempo.setText("00:00:00");
            duracaoTempo.setFocusable(false);

            inicioTempo.setHorizontalAlignment(javax.swing.JTextField.CENTER);
            inicioTempo.setText("00:00:00");
            inicioTempo.setFont(new java.awt.Font("Century Gothic", 1, 52)); // NOI18N
            inicioTempo.addCaretListener(new javax.swing.event.CaretListener() {
                public void caretUpdate(javax.swing.event.CaretEvent evt) {
                    inicioTempoCaretUpdate(evt);
                }
            });
            inicioTempo.addFocusListener(new java.awt.event.FocusAdapter() {
                public void focusLost(java.awt.event.FocusEvent evt) {
                    inicioTempoFocusLost(evt);
                }
            });

            iniciarAgora.setFont(new java.awt.Font("Century Gothic", 0, 18)); // NOI18N
            iniciarAgora.setText("Iniciar agora");
            iniciarAgora.setFocusPainted(false);
            iniciarAgora.setFocusable(false);
            iniciarAgora.addActionListener(new java.awt.event.ActionListener() {
                public void actionPerformed(java.awt.event.ActionEvent evt) {
                    iniciarAgoraActionPerformed(evt);
                }
            });

            javax.swing.GroupLayout iniDurAteLayout = new javax.swing.GroupLayout(iniDurAte);
            iniDurAte.setLayout(iniDurAteLayout);
            iniDurAteLayout.setHorizontalGroup(
                iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(iniDurAteLayout.createSequentialGroup()
                    .addComponent(inicio)
                    .addGap(18, 18, 18)
                    .addGroup(iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(iniDurAteLayout.createSequentialGroup()
                            .addComponent(iniciarAgora)
                            .addGap(0, 0, Short.MAX_VALUE))
                        .addGroup(iniDurAteLayout.createSequentialGroup()
                            .addComponent(inicioTempo, javax.swing.GroupLayout.PREFERRED_SIZE, 227, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(65, 65, 65)
                            .addComponent(duracao)
                            .addGap(18, 18, 18)
                            .addComponent(duracaoTempo)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 67, Short.MAX_VALUE)
                            .addComponent(ate)
                            .addGap(18, 18, 18)
                            .addComponent(ateTempo))))
            );
            iniDurAteLayout.setVerticalGroup(
                iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(iniDurAteLayout.createSequentialGroup()
                    .addGroup(iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(iniDurAteLayout.createSequentialGroup()
                            .addGroup(iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, iniDurAteLayout.createSequentialGroup()
                                    .addGap(0, 7, Short.MAX_VALUE)
                                    .addGroup(iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(inicioTempo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(duracaoTempo)
                                        .addComponent(ateTempo)))
                                .addGroup(iniDurAteLayout.createSequentialGroup()
                                    .addGroup(iniDurAteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(iniDurAteLayout.createSequentialGroup()
                                            .addGap(26, 26, 26)
                                            .addComponent(ate))
                                        .addGroup(iniDurAteLayout.createSequentialGroup()
                                            .addGap(28, 28, 28)
                                            .addComponent(duracao)))
                                    .addGap(0, 0, Short.MAX_VALUE)))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))
                        .addGroup(iniDurAteLayout.createSequentialGroup()
                            .addGap(28, 28, 28)
                            .addComponent(inicio)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(iniciarAgora))
            );

            try{
                MaskFormatter maskID = new MaskFormatter("##:##:##");
                maskID.setPlaceholderCharacter('0');
                maskID.install(inicioTempo);
            }catch(ParseException ex){}

            cabecalhoAlt.setBackground(new java.awt.Color(255, 255, 255));

            nomeProg1Alt.setFont(new java.awt.Font("Gill Sans MT", 1, 36)); // NOI18N
            nomeProg1Alt.setText("Pomodoro");
            nomeProg1Alt.setFocusable(false);

            nomeProg2Alt.setFont(new java.awt.Font("Gill Sans MT", 1, 18)); // NOI18N
            nomeProg2Alt.setText("Plus");
            nomeProg2Alt.setFocusable(false);

            simboloProgAlt.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/Tomate.png"))); // NOI18N
            simboloProgAlt.setFocusable(false);

            ajudaAlt.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Figuras/help.png"))); // NOI18N
            ajudaAlt.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
            ajudaAlt.setFocusable(false);

            javax.swing.GroupLayout cabecalhoAltLayout = new javax.swing.GroupLayout(cabecalhoAlt);
            cabecalhoAlt.setLayout(cabecalhoAltLayout);
            cabecalhoAltLayout.setHorizontalGroup(
                cabecalhoAltLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(cabecalhoAltLayout.createSequentialGroup()
                    .addGap(34, 34, 34)
                    .addComponent(simboloProgAlt, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                    .addComponent(nomeProg1Alt)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                    .addComponent(nomeProg2Alt)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(ajudaAlt)
                    .addGap(35, 35, 35))
            );
            cabecalhoAltLayout.setVerticalGroup(
                cabecalhoAltLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(cabecalhoAltLayout.createSequentialGroup()
                    .addGap(9, 9, 9)
                    .addGroup(cabecalhoAltLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(ajudaAlt)
                        .addComponent(simboloProgAlt)
                        .addGroup(cabecalhoAltLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(nomeProg1Alt)
                            .addComponent(nomeProg2Alt)))
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            );

            botoes.setBackground(new java.awt.Color(238, 241, 246));

            iniciar.setBackground(new java.awt.Color(255, 55, 45));
            iniciar.setFont(new java.awt.Font("Verdana", 1, 20)); // NOI18N
            iniciar.setForeground(new java.awt.Color(255, 255, 255));
            iniciar.setText("INICIAR");
            iniciar.setBorderPainted(false);
            iniciar.setFocusPainted(false);
            iniciar.setFocusable(false);
            iniciar.setPreferredSize(new java.awt.Dimension(157, 35));

            salvar.setBackground(new java.awt.Color(255, 55, 45));
            salvar.setFont(new java.awt.Font("Verdana", 1, 20)); // NOI18N
            salvar.setForeground(new java.awt.Color(255, 255, 255));
            salvar.setText("CARREGAR");
            salvar.setBorderPainted(false);
            salvar.setFocusPainted(false);
            salvar.setFocusable(false);

            carregar.setBackground(new java.awt.Color(255, 55, 45));
            carregar.setFont(new java.awt.Font("Verdana", 1, 20)); // NOI18N
            carregar.setForeground(new java.awt.Color(255, 255, 255));
            carregar.setText("SALVAR");
            carregar.setBorderPainted(false);
            carregar.setFocusPainted(false);
            carregar.setFocusable(false);
            carregar.setPreferredSize(new java.awt.Dimension(157, 35));

            javax.swing.GroupLayout botoesLayout = new javax.swing.GroupLayout(botoes);
            botoes.setLayout(botoesLayout);
            botoesLayout.setHorizontalGroup(
                botoesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, botoesLayout.createSequentialGroup()
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(botoesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(salvar)
                        .addComponent(carregar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(iniciar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(25, 25, 25))
            );
            botoesLayout.setVerticalGroup(
                botoesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(botoesLayout.createSequentialGroup()
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(iniciar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(carregar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(salvar)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            );

            iniciar.setUI(new UIBotao());
            salvar.setUI(new UIBotao());
            carregar.setUI(new UIBotao());

            javax.swing.GroupLayout PainelProgFundoLayout = new javax.swing.GroupLayout(PainelProgFundo);
            PainelProgFundo.setLayout(PainelProgFundoLayout);
            PainelProgFundoLayout.setHorizontalGroup(
                PainelProgFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, PainelProgFundoLayout.createSequentialGroup()
                    .addGap(22, 22, 22)
                    .addGroup(PainelProgFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addGroup(PainelProgFundoLayout.createSequentialGroup()
                            .addComponent(botoes, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(programaRolagem, javax.swing.GroupLayout.PREFERRED_SIZE, 780, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addComponent(iniDurAte, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGap(22, 22, 22))
                .addComponent(cabecalhoAlt, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            );
            PainelProgFundoLayout.setVerticalGroup(
                PainelProgFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(PainelProgFundoLayout.createSequentialGroup()
                    .addComponent(cabecalhoAlt, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(3, 3, 3)
                    .addComponent(iniDurAte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                    .addGroup(PainelProgFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(programaRolagem, javax.swing.GroupLayout.DEFAULT_SIZE, 373, Short.MAX_VALUE)
                        .addComponent(botoes, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addContainerGap())
            );

            programaRolagem.getVerticalScrollBar().setUnitIncrement(16);

            guias.addTab("                     Novo                     ", PainelProgFundo);

            javax.swing.GroupLayout painelMeioLayout = new javax.swing.GroupLayout(painelMeio);
            painelMeio.setLayout(painelMeioLayout);
            painelMeioLayout.setHorizontalGroup(
                painelMeioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(painelMeioLayout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(guias, javax.swing.GroupLayout.PREFERRED_SIZE, 1041, javax.swing.GroupLayout.PREFERRED_SIZE))
            );
            painelMeioLayout.setVerticalGroup(
                painelMeioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(painelMeioLayout.createSequentialGroup()
                    .addComponent(guias, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGap(0, 0, 0))
            );

            javax.swing.GroupLayout painelFundoLayout = new javax.swing.GroupLayout(painelFundo);
            painelFundo.setLayout(painelFundoLayout);
            painelFundoLayout.setHorizontalGroup(
                painelFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, painelFundoLayout.createSequentialGroup()
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(painelMeio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            );
            painelFundoLayout.setVerticalGroup(
                painelFundoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(painelFundoLayout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(painelMeio, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap())
            );

            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
            getContentPane().setLayout(layout);
            layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(painelFundo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            );
            layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(painelFundo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            );

            pack();
        }// </editor-fold>//GEN-END:initComponents

    private void pausaContActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pausaContActionPerformed
        suporteHorario.removeAll();
        if(pausado == true){
            suporteHorario.add(new PainelHorario2());
            pausaCont.setText(" Pausar");
            pausaCont.setIcon(new ImageIcon(getClass().getResource("/Figuras/pause.png")));
            pausado = false;
        }else{
            suporteHorario.add(new PainelHorario1());
            pausaCont.setText(" Continuar");
            pausaCont.setIcon(new ImageIcon(getClass().getResource("/Figuras/play.png")));
            pausado = true;
        }
        suporteHorario.updateUI();
        linha++;
        System.out.println(linha);
        tabela.updateUI();
    }//GEN-LAST:event_pausaContActionPerformed

    private void escolheSomMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_escolheSomMouseClicked
        if(som == true){
            escolheSom.setIcon(new ImageIcon(getClass().getResource("/Figuras/semSom.png")));
            som = false;
        }else{
            escolheSom.setIcon(new ImageIcon(getClass().getResource("/Figuras/sino.png")));
            som = true;
        }
        
    }//GEN-LAST:event_escolheSomMouseClicked

    private void inicioTempoCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_inicioTempoCaretUpdate
        long tempo;
        String texto = inicioTempo.getText();
        if(texto.length() == 8){
            tempo = Conversor.string1ToLong(texto);
            programa.setInicio(tempo);
            programa.atualiza(null);
        }
    }//GEN-LAST:event_inicioTempoCaretUpdate

    private void inicioTempoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_inicioTempoFocusLost
        inicioTempo.setText(Conversor.longToString1(programa.getInicio()));
    }//GEN-LAST:event_inicioTempoFocusLost

    private void iniciarAgoraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_iniciarAgoraActionPerformed
        if(iniciarAgora.isSelected()){
            this.programa.iniciaThreadRelogio();
            this.inicioTempo.setEditable(false);
            this.inicioTempo.setFocusable(false);
        }else{
            this.programa.paraThreadRelogio();
            this.inicioTempo.setEditable(true);
            this.inicioTempo.setFocusable(true);
        }
    }//GEN-LAST:event_iniciarAgoraActionPerformed

    public int getCont(){
        return cont;
    }

    public void incCont(){
        cont++;
    }
    
    public void decCont(){
        cont--;
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel PainelProgFundo;
    private javax.swing.JLabel ajuda;
    private javax.swing.JLabel ajudaAlt;
    private javax.swing.JLabel ate;
    private javax.swing.JLabel ateTempo;
    private javax.swing.JPanel botoes;
    private javax.swing.JPanel cabecalho;
    private javax.swing.JPanel cabecalhoAlt;
    private javax.swing.JButton carregar;
    private javax.swing.JLabel duracao;
    private javax.swing.JLabel duracaoTempo;
    private javax.swing.JLabel escolheSom;
    private javax.swing.JTabbedPane guias;
    private javax.swing.JPanel iniDurAte;
    private javax.swing.JButton iniciar;
    private javax.swing.JRadioButton iniciarAgora;
    private javax.swing.JLabel inicio;
    private javax.swing.JFormattedTextField inicioTempo;
    private javax.swing.JLabel nomeProg1;
    private javax.swing.JLabel nomeProg1Alt;
    private javax.swing.JLabel nomeProg2;
    private javax.swing.JLabel nomeProg2Alt;
    private javax.swing.JPanel painelFundo;
    private javax.swing.JPanel painelMeio;
    private javax.swing.JPanel painelPrincFundo;
    private javax.swing.JButton pausaCont;
    private javax.swing.JPanel programaPanel;
    private javax.swing.JScrollPane programaRolagem;
    private javax.swing.JButton salvar;
    private javax.swing.JComboBox selectSom;
    private javax.swing.JLabel simboloProg;
    private javax.swing.JLabel simboloProgAlt;
    private javax.swing.JPanel suporteHorario;
    private javax.swing.JTable tabela;
    private javax.swing.JScrollPane tabelaRolagem;
    // End of variables declaration//GEN-END:variables
}

class TableHeaderRenderer implements TableCellRenderer{
    private final TableCellRenderer baseRenderer;

    public TableHeaderRenderer(TableCellRenderer baseRenderer) {
        this.baseRenderer = baseRenderer;
    }

    @Override
    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
        JComponent c = (JComponent)baseRenderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);
        c.setBorder(new EmptyBorder(2,2,2,2));
        return c;
    }
}

class LinhaEscolhida extends DefaultTableCellRenderer {
    private JanelaPrincipal janela;

    public LinhaEscolhida(JanelaPrincipal janela) {
        this.janela = janela;
    }
    
    @Override
    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
        super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); 
        this.setHorizontalAlignment(JLabel.CENTER);
        this.setVerticalAlignment(JLabel.CENTER);
        if(row == janela.linha){
            setBackground(new java.awt.Color(255,89,81));
            
        }else{
            setBackground(new java.awt.Color(2, 24, 43));
        }
        return this;
    }
}

class UIBotao extends MetalButtonUI{
    
    @Override
    public void paintButtonPressed(Graphics g, AbstractButton b) {
        paintText(g, b, b.getBounds(), b.getText());
        g.setColor(Color.red.brighter());
        g.fillRect(0, 0, b.getSize().width, b.getSize().height);
    }
}